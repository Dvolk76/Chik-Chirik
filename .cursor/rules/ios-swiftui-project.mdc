---
description: iOS 17 SwiftUI / MVVM project rules (–±–µ–∑ —Ç–µ—Å—Ç–æ–≤ –∏ Xcode Cloud)
globs: "**/*.swift"
alwaysApply: true
version: 1.0
---

# üìê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

1. –ü—Ä–æ–µ–∫—Ç —Å—Ç—Ä–æ–∏—Ç—Å—è –Ω–∞ **MVVM**.  
2. View-–º–æ–¥–µ–ª–∏ –Ω–∞—Å–ª–µ–¥—É—é—Ç `ObservableObject`; –∏–º–ø–æ—Ä—Ç `SwiftUI` –≤ –Ω–∏—Ö –∑–∞–ø—Ä–µ—â—ë–Ω.  
3. –ù–∞–≤–∏–≥–∞—Ü–∏—è ‚Äî `NavigationStack`; –ø–µ—Ä–µ—Ö–æ–¥—ã –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π ViewModel.

# üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞—Ç–∞–ª–æ–≥–æ–≤
Sources/
 ‚îú‚îÄ App/                 // AppEntry, AppState
 ‚îú‚îÄ Core/                // –ú–æ–¥–µ–ª–∏, —Å–µ—Ä–≤–∏—Å–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã
 ‚îú‚îÄ Features/            // <Feature>/View + ViewModel
 ‚îú‚îÄ UIComponents/        // –û–±—â–∏–µ SwiftUI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
 ‚îî‚îÄ Resources/           // Assets, Localizable.strings

# üîå Dependency Injection
* –ü—Ä–æ—Ç–æ–∫–æ–ª `AppContainer` ‚Äî –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–µ—Ä–≤–∏—Å–∞–º.  
* –í–Ω–µ–¥—Ä–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã –∏–ª–∏ `@Environment(\.di)`.

# ‚òÅÔ∏è Firebase
SDK –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å-–æ–±—ë—Ä—Ç–∫–∏ (`AuthService`, `DBService` –∏ –ø—Ä.);  
ViewModel –≤–∏–¥–∏—Ç –ª–∏—à—å –∏—Ö –ø—Ä–æ—Ç–æ–∫–æ–ª—ã.

# üì∏ QR-–∫–æ–¥—ã + Universal Links
* –ì–µ–Ω–µ—Ä–∞—Ü–∏—è ‚Äî `CIFilter.qrCodeGenerator`;  
* –°–∏–¥-—Ñ—Ä–∞–∑–∞ ‚Äî –≤ Keychain (`kSecAttrAccessibleAfterFirstUnlock`);  
* Link: `https://example.com/link/<payload>`.

# üßπ –ö–æ–¥-—Å—Ç–∞–π–ª
SwiftLint –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω (—Å–º. .swiftlint.yml)  
–ó–∞–ø—Ä–µ—â–µ–Ω—ã `print()` –∏ `TODO:`.  
–°—Ç—Ä–æ–∫–∞ ‚â§ 120 —Å–∏–º–≤., cyclomatic ‚â§ 15/25 (warn/error).

# üóÇ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
–ü—É–±–ª–∏—á–Ω—ã–µ API –æ—Ñ–æ—Ä–º–ª—è—é—Ç—Å—è Markup-–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º, —è–∑—ã–∫ –µ–¥–∏–Ω –≤–Ω—É—Ç—Ä–∏ —Ñ–∞–π–ª–∞.

# üõ° Security & Perf
* –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SecureEnclave/Keychain —Ç–∞–º, –≥–¥–µ —Ö—Ä–∞–Ω–∏–º —Å–∏–¥-—Ñ—Ä–∞–∑—É.  
* –ò–∑–±–µ–≥–∞—Ç—å –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤ `@MainActor`.
